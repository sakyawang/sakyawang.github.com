<?xml version="1.0"  encoding="UTF-8"?>
<rss version="2.0">  <channel>
    <title>王浩的小课桌</title>
    <link>http://sakyawang.github.io</link>
    <pubDate>08 Jul 15 21:30 CST</pubDate>
    <item>
      <title>微信公众平台开发入门</title>
      <link>http://sakyawang.github.io/微信公众平台/%E5%BE%AE%E4%BF%A1%E5%85%AC%E4%BC%97%E5%B9%B3%E5%8F%B0%E5%BC%80%E5%8F%91%E5%85%A5%E9%97%A8/</link>
      <pubDate>2015-07-08 12:00:00 +0800</pubDate>
      <description>&lt;p&gt;因工作需要，要在微信公众平台上进行服务号的开发，现记录下开发流程。&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;环境&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;win7、IDEA14、Jdk1.7、微信公众平台测试号、外网域名&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;搭建基础开发环境&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;搭建web项目使用最简单的Servlet做消息入口。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;创建WeChatServlet 继承 HttpServlet&lt;/p&gt;&#xA;&#xA;&lt;p&gt;在web.xml中配置sevlet的url路径&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;&amp;lt;servlet-name&amp;gt;wechat&amp;lt;/servlet-name&amp;gt;&#xA;&amp;lt;servlet-class&amp;gt;cn.wh.wechat.WeChatServlet&amp;lt;/servlet-class&amp;gt;&#xA;&amp;lt;/servlet&amp;gt;&#xA;&amp;lt;servlet-mapping&amp;gt;&#xA;    &amp;lt;servlet-name&amp;gt;wechat&amp;lt;/servlet-name&amp;gt;&#xA;    &amp;lt;url-pattern&amp;gt;/wechat&amp;lt;/url-pattern&amp;gt;&#xA;&amp;lt;/servlet-mapping&amp;gt;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;在微信公众平台申请管理测试号&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;http://mp.weixin.qq.com/debug/cgi-bin/sandboxinfo?action=showinfo&amp;amp;t=sandbox/index&#34;&gt;http://mp.weixin.qq.com/debug/cgi-bin/sandboxinfo?action=showinfo&amp;amp;t=sandbox/index&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;登陆之后设置URL和token，URL就是外网域名/项目名/wechat,必须是80端口。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;配置消息通道认证&lt;/p&gt;&#xA;&#xA;&lt;p&gt;WeChatServlet的doGet方法如下：&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;protected void doGet(HttpServletRequest request,&#xA;        HttpServletResponse response) throws ServletException, IOException {&#xA;    String signature = request.getParameter(&amp;quot;signature&amp;quot;);// 微信加密签名&#xA;    String timestamp = request.getParameter(&amp;quot;timestamp&amp;quot;);// 时间戳&#xA;    String nonce = request.getParameter(&amp;quot;nonce&amp;quot;);// 随机数&#xA;    String echostr = request.getParameter(&amp;quot;echostr&amp;quot;);// 随机字符串&#xA;    if (StringUtils.isBlank(signature) || StringUtils.isBlank(timestamp)|| StringUtils.isBlank(nonce)) {&#xA;        Writer out = response.getWriter();&#xA;        out.write(&amp;quot;error...&amp;quot;);&#xA;        out.flush();&#xA;        out.close();&#xA;        return;&#xA;    }&#xA;    // 重写totring方法，得到三个参数的拼接字符串&#xA;    List&amp;lt;String&amp;gt; list = new ArrayList&amp;lt;String&amp;gt;(3) {&#xA;        private static final long serialVersionUID = 2621444383666420433L;&#xA;&#xA;        public String toString() {&#xA;            return this.get(0) + this.get(1) + this.get(2);&#xA;        }&#xA;    };&#xA;    list.add(TOKEN);&#xA;    list.add(timestamp);&#xA;    list.add(nonce);&#xA;    Collections.sort(list);// 排序&#xA;    String tmpStr = new MySecurity().encode(list.toString(),&#xA;            MySecurity.SHA_1);// SHA-1加密&#xA;    Writer out = response.getWriter();&#xA;    if (signature.equals(tmpStr)) {&#xA;        out.write(echostr);// 请求验证成功，返回随机码&#xA;    } else {&#xA;        out.write(&amp;quot;&amp;quot;);&#xA;    }&#xA;    out.flush();&#xA;    out.close();&#xA;}&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;在微信公众平台测试页面点击提交请求会到WeChatServlet的doGet方法，如果验证通过返回验证码。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;以上是在微信公众平台接入开发模式。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;后续会写一些开发中用到的消息处理机制。&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>sublime text2 安装插件</title>
      <link>http://sakyawang.github.io/sublime/sublime-text2-%E5%AE%89%E8%A3%85%E6%8F%92%E4%BB%B6/</link>
      <pubDate>2015-07-08 12:00:00 +0800</pubDate>
      <description>&lt;p&gt;sublime tex t2本身自带了编程语言雷插件，可以通过Preferences&amp;ndash;&amp;gt;Browse Packages查看。&#xA;当然还有一些方便开发的插件需要单独安装。这里说一下sublime text2安装插件的操作流程。&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;环境&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;win7、sublime text2&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;配置&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;打开sublime 使用ctrl+` 调出控制台窗口，输入：&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;import urllib2,os; &#xA;pf=&#39;Package Control.sublime-package&#39;; &#xA;ipp=sublime.installed_packages_path(); &#xA;os.makedirs(ipp) &#xA;if not &#xA;    os.path.exists(ipp) &#xA;else &#xA;    None; &#xA;urllib2.install_opener(urllib2.build_opener(urllib2.ProxyHandler()));&#xA;open(os.path.join(ipp,pf),&#39;wb&#39;).write(urllib2.urlopen(&#39;http://sublime.wbond.net/&#39;+pf.replace(&#39; &#39;,&#39;%20&#39;)).read()); &#xA;print &#39;Please restart Sublime Text to finish installation&#39;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;执行完毕之后，重启sublime。&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;安装插件&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;ctrl+shift+P调出功能搜索框，输入 install 选择 install package，然后查找自己喜欢的插件 选择安装。&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>mongodb安装配置</title>
      <link>http://sakyawang.github.io/mongodb/mongodb%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</link>
      <pubDate>2015-07-08 12:00:00 +0800</pubDate>
      <description>&lt;p&gt;使用mongoDB zip安装包安装配置mongodb。&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;安装&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;下载mongoDB安装包。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;https://fastdl.mongodb.org/win32/mongodb-win32-x86_64-3.0.4.zip&#34;&gt;https://fastdl.mongodb.org/win32/mongodb-win32-x86_64-3.0.4.zip&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;解压缩安装包到 D盘根目录 D:\mongoDB&lt;/p&gt;&#xA;&#xA;&lt;p&gt;mongoDB目录下创建data\db目录和data\log目录&#xA;分别用来安装db和日志文件，在log文件夹下创建一个日志文件MongoDB.log。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;运行cmd.exe进入dos命令界面，执行下列命令，启动MongoDB&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;cd d:\mongoDB\bin&#xA;d:\mongodb\bin&amp;gt;mongod -dbpath &amp;quot;d:\mongoDB\data\db&amp;quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;如果看到信息显示当前监听端口27017则表示启动成功。&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;测试连接&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;打开一个cmd窗口，进入mongodb的bin目录，输入mongo或者mongo.exe，&#xA;出现 connect to test 等信息说明测试通过，此时我们已经进入了test这个数据库。&#xA;输入exit或者ctrl+C可退出。&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;配置&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;当mongod.exe被关闭时，mongo.exe 就无法连接到数据库了。因此每次想使用mongodb数据库都要开启mongod.exe程序，所以比较麻烦，此时我们可以将MongoDB安装为windows服务。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;运行cmd，进入bin文件夹，执行下列命令：&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;d:\mongoDB\bin&amp;gt;mongod --dbpath &amp;quot;d:\mongoDB\data\db&amp;quot; --logpath &amp;quot;d:\mongoDB\data\log\MongoDB.log&amp;quot; --install --serviceName &amp;quot;MongoDB&amp;quot;&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;&#xA;&lt;p&gt;　这里MongoDB.log就是开始建立的日志文件，&amp;ndash;serviceName &amp;ldquo;MongoDB&amp;rdquo; 设置服务名为MongoDB。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;　接着启动mongodb服务&lt;/p&gt;&#xA;&#xA;&lt;pre&gt;&lt;code&gt;d:\mongodb\bin&amp;gt;NET START MongoDB&#xA;&lt;/code&gt;&lt;/pre&gt;&#xA;</description>
    </item>
    <item>
      <title>gor创建个人博客</title>
      <link>http://sakyawang.github.io/golang/gor%E5%88%9B%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</link>
      <pubDate>2015-07-08 12:00:00 +0800</pubDate>
      <description>&lt;h2&gt;环境&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;win7、golang、git&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;下载安装gor&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/wendal/gor&#34;&gt;gor github&lt;/a&gt;&#xA;里面有gor的安装和使用说明。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;这里主要说一下使用中遇到的问题：&lt;/p&gt;&#xA;&#xA;&lt;p&gt;执行 go install github.com/wendal/gor/gor 操作的时候&#xA;会报错：&lt;/p&gt;&#xA;&#xA;&lt;p&gt;connot find package &amp;ldquo;github.com/howeyc/fsnotify&amp;rdquo;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;处理方案如下：&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/howeyc/fsnotify&#34;&gt;https://github.com/howeyc/fsnotify&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;下载zip包。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;解压缩zip包内容到$GOPATH/src/github.com/howeyc/fsnotify&lt;/p&gt;&#xA;&#xA;&lt;p&gt;注意fsnotify目录下就是文件。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;然后再执行 go install github.com/wendal/gor/gor&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;搭建github个人博客&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;参考 &lt;a href=&#34;http://www.cnblogs.com/purediy/archive/2013/03/07/2948892.html&#34;&gt;http://www.cnblogs.com/purediy/archive/2013/03/07/2948892.html&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;首先要有一个github个人账号。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;创建public仓库，名字以username.github.com命名。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;进入username.github.com仓库，选择右侧的setting。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;在github Pages里面选择Launch automatic page generator按钮。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;在新页面选择博客主题然后保存。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;访问username.github.io即可看到个人主页。&lt;/p&gt;&#xA;&#xA;&lt;h2&gt;提交个人博客到github&lt;/h2&gt;&#xA;&#xA;&lt;p&gt;使用git 命令行或者客户端clone username.github.com库到本地git库。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;把gor编译生成的compile文件加下的内容，添加更新到本地git库。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;提交更新到github。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;访问username.github.io查看更新。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;（因为七牛认证还未通过，暂时无法提供图片外链，认证通过之后补充操作截图）&lt;/p&gt;&#xA;</description>
    </item>
    <item>
      <title>本地搭建golang开发学习环境</title>
      <link>http://sakyawang.github.io/golang/%E6%9C%AC%E5%9C%B0%E6%90%AD%E5%BB%BAgolang%E5%BC%80%E5%8F%91%E5%AD%A6%E4%B9%A0%E7%8E%AF%E5%A2%83/</link>
      <pubDate>2015-07-07 12:00:00 +0800</pubDate>
      <description>&lt;p&gt;由于工作原因要学习golang，根据golang推荐学习方法搭建本地A tour of GO环境，记录操作过程。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;font size=&#34;5&#34;&gt;&lt;strong&gt;环境&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;win7 64位&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;font size=&#34;4&#34;&gt;&lt;strong&gt;下载并安装golang&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;http://www.golangtc.com/download&#34;&gt;http://www.golangtc.com/download&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;exe文件install安装&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;font size=&#34;4&#34;&gt;&lt;strong&gt;配置go环境变量&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;环境变量添加GOROOT为GO的安装目录。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;环境变量添加GOPATH是GO的项目目录。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;当使用go get 获取内容时保存在GOPATH下，相当于workspace。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;img src=&#34;http://h.picphotos.baidu.com/album/s%3D550%3Bq%3D90%3Bc%3Dxiangce%2C100%2C100/sign=bc97d1572bdda3cc0fe4b82531d2483c/adaf2edda3cc7cd97ab17c113c01213fb90e915e.jpg&#34; alt=&#34;go环境变量配置&#34; /&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;安装完成之后，cmd下执行go&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;img src=&#34;http://c.picphotos.baidu.com/album/s%3D550%3Bq%3D90%3Bc%3Dxiangce%2C100%2C100/sign=04f07bf02d381f309a198dac993a3d35/060828381f30e9242246d5f949086e061c95f71c.jpg&#34; alt=&#34;go测试&#34; /&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;如图则安装配置成功&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;font size=&#34;4&#34;&gt;&lt;strong&gt;安装Mercurial&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;Mercurial 是一个跨平台的分布式版本控制软件。Mercurial主要由Python语言实现，不过也包含一个用C实现的二进制比较工具。Mercurial一开始的主要运行平台是Linux。现在Mercurial已经被移植到Windows、Mac OS X 和大多数类Unix系统中。Mercurial主要由一个命令行程序组成，但现在也有了图形用户界面。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;如果你的系统中没有安装Mercurial，你就无法使用hg命令。&#xA; 下载：&lt;a href=&#34;https://mercurial.selenic.com/wiki/Download#Windows&#34;&gt;https://mercurial.selenic.com/wiki/Download#Windows&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;font size=&#34;4&#34;&gt;&lt;strong&gt;安装python2.7&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;因为Mercurial依赖python2.7 ，需安装python2.7&#xA;下载：&lt;a href=&#34;https://www.python.org/downloads/release/python-2710/&#34;&gt;https://www.python.org/downloads/release/python-2710/&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;install安装配置环境变量&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;font size=&#34;4&#34;&gt;&lt;strong&gt;安装go-tour&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;墙外用户命令行下执行：&lt;/p&gt;&#xA;&#xA;&lt;p&gt;go get code.google.com/p/go-tour/gotour&lt;/p&gt;&#xA;&#xA;&lt;p&gt;墙内用户：&lt;/p&gt;&#xA;&#xA;&lt;p&gt;go get github.com/zhanming/go-tour-cn/gotour.cn&lt;/p&gt;&#xA;&#xA;&lt;p&gt;go install github.com/zhanming/go-tour-cn/gotour.cn&lt;/p&gt;&#xA;&#xA;&lt;p&gt;成功的话会在，$GOPATH/bin目录下生成gotour.cn.exe文件&lt;/p&gt;&#xA;&#xA;&lt;p&gt;如果获取失败，可以在github：&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;a href=&#34;https://github.com/zhanming/go-tour-cn.git&#34;&gt;https://github.com/zhanming/go-tour-cn.git&lt;/a&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;下载zip包文件。然后解压缩到GOPATH下面的src目录。&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;img src=&#34;http://g.picphotos.baidu.com/album/s%3D550%3Bq%3D90%3Bc%3Dxiangce%2C100%2C100/sign=54b3eeebb57eca80160539e2a118e6e0/9213b07eca806538ea75ecdb92dda144ac34825f.jpg&#34; alt=&#34;tour 目录结构&#34; /&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;font size=&#34;4&#34;&gt;&lt;strong&gt;编译本地go tour&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;go install github.com/zhanming/go-tour-cn/gotour.cn&lt;/p&gt;&#xA;&#xA;&lt;p&gt;在$GOPATH/src/github&lt;strong&gt;/&lt;/strong&gt;*/gotour.cn 目录下命令行执行 go build&#xA;生成gotour.cn.exe&lt;/p&gt;&#xA;&#xA;&lt;p&gt;&lt;font size=&#34;4&#34;&gt;&lt;strong&gt;运行go tour&lt;/strong&gt;&lt;/font&gt;&lt;/p&gt;&#xA;&#xA;&lt;p&gt;cmd下运行gotour.cn.exe 然后在浏览器输入&lt;a href=&#34;http://127.0.0.1:3999&#34;&gt;http://127.0.0.1:3999&lt;/a&gt;&lt;/p&gt;&#xA;</description>
    </item>
  </channel>
</rss>